<div align="center">

```
     ___                    _____ _                
    / _ \ _ __   ___ _ __  / ____| | __ ___      __
   | | | | '_ \ / _ \ '_ \| |    | |/ _` \ \ /\ / /
   | |_| | |_) |  __/ | | | |____| | (_| |\ V  V / 
    \___/| .__/ \___|_| |_|\_____|_|\__,_| \_/\_/  
         |_|                                       
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘     ğŸŒ ASUS MESH WIFI ANALYZER - OpenClaw Skill ğŸŒ        â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

<h3>ğŸš€ Intelligente Mesh-Netzwerk Analyse & Optimierung fÃ¼r ASUS Router</h3>

<p>
  <strong>39 Actions</strong> â€¢ <strong>18 Core Modules</strong> â€¢ <strong>100+ Vendor OUIs</strong> â€¢ <strong>64 Tests</strong>
</p>

![Node.js](https://img.shields.io/badge/Node.js-18%2B-green?style=for-the-badge&logo=node.js)
![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue?style=for-the-badge&logo=typescript)
![OpenClaw](https://img.shields.io/badge/OpenClaw-2.0%2B-purple?style=for-the-badge)
![License](https://img.shields.io/badge/License-MIT-yellow?style=for-the-badge)
![Tests](https://img.shields.io/badge/Tests-64%20passed-brightgreen?style=for-the-badge)

</div>

---

## ğŸ“Š Projekt-QualitÃ¤t

<div align="center">

| Metrik | Score | Status |
|--------|-------|--------|
| **TypeScript Strict** | 100% | âœ… Keine Fehler |
| **Test Coverage** | 64 Tests | âœ… Bestanden |
| **ESLint** | Clean | âœ… Keine Errors |
| **Memory Leaks** | 0 | âœ… GeprÃ¼ft |
| **OpenClaw Ready** | v2.0+ | âœ… Kompatibel |

**18 Core Modules** â€¢ **5 Infra Clients** â€¢ **10 Type Definitions** â€¢ **100% Reversible**

</div>

---

## ğŸ“‘ Inhaltsverzeichnis

- [âœ¨ Features](#-features)
- [ğŸ“¦ Installation](#-installation)
- [ğŸ¯ VerfÃ¼gbare Actions](#-verfÃ¼gbare-actions)
- [ğŸ—ï¸ Architektur](#ï¸-architektur)
- [ğŸ“¡ Netzwerk-Topologie](#-netzwerk-topologie)
- [ğŸ”§ Konfiguration](#-konfiguration)
- [ğŸ› ï¸ Entwicklung](#ï¸-entwicklung)
- [ğŸ“„ Lizenz](#-lizenz)

---

## âœ¨ Features

### ğŸŒ Netzwerk-Analyse

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MESH NETWORK SCAN                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  MAIN    â”‚â”€â”€â”€â”€â–¶â”‚  NODE 1  â”‚â”€â”€â”€â”€â–¶â”‚  NODE 2  â”‚            â”‚
â”‚  â”‚ RT-AX88U â”‚     â”‚  XT8     â”‚     â”‚  XT8     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜            â”‚
â”‚       â”‚                â”‚                â”‚                   â”‚
â”‚    [28 Clients]    [12 Clients]    [8 Clients]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Mesh Node Scanning** - Erkennung aller AiMesh-Knoten und Status
- **Device Discovery** - Automatische Erkennung aller GerÃ¤te
- **Signal Mapping** - Kontinuierliche SignalstÃ¤rke-Messung
- **Triangulation** - RÃ¤umliche PositionsschÃ¤tzung
- **SNMP Topologie** - MikroTik, OPNsense, Cisco Support

### ğŸ” Problem-Erkennung

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸  DETECTED ISSUES                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”´ CRITICAL  â”‚ Channel Interference on 2.4GHz (Ch 6)      â”‚
â”‚  ğŸŸ¡ WARNING   â”‚ Weak signal: iPhone-Max (-78 dBm)          â”‚
â”‚  ğŸŸ¡ WARNING   â”‚ Zigbee/WiFi overlap: Ch 11 â†” Zigbee 15     â”‚
â”‚  ğŸŸ¢ INFO      â”‚ 3 IoT devices in Setup-AP mode             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Signal Weakness Detection** - GerÃ¤te mit schwachem Signal
- **Connection Stability** - Analyse von VerbindungsabbrÃ¼chen
- **Roaming Issues** - Exzessives Roaming erkennen
- **WiFi/Zigbee Konflikte** - FrequenzÃ¼berlappungen
- **Rogue IoT Detection** - Setup-APs von Smart Home GerÃ¤ten

### âš¡ Optimierung

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š OPTIMIZATION SUGGESTIONS                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  #1  Change 2.4GHz channel: 6 â†’ 1     [+15% less overlap]  â”‚
â”‚  #2  Change 5GHz channel: 36 â†’ 149    [DFS-free, less busy]â”‚
â”‚  #3  Enable Band Steering             [Better roaming]     â”‚
â”‚  #4  Move Zigbee to Channel 25        [No WiFi overlap]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Channel Optimization** - Beste KanÃ¤le fÃ¼r 2.4/5GHz
- **Zigbee Coordination** - WiFi/Zigbee Abstimmung
- **Multi-Node Sync** - Einstellungen synchronisieren
- **Auto-Apply** - Ã„nderungen mit BestÃ¤tigung anwenden

### ğŸ§  Network Intelligence Engine (NEU!)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§  FULL INTELLIGENCE SCAN FLOW                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1ï¸âƒ£ COLLECT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚     â”œâ”€ Router Data (SSH)     âœ… Mesh Nodes, Clients         â”‚
â”‚     â”œâ”€ Neighbor Scan         âœ… 12 networks found           â”‚
â”‚     â”œâ”€ Zigbee (Home Asst.)   âœ… Channel 15, 28 devices      â”‚
â”‚     â””â”€ SNMP Topology         âš ï¸ Not configured              â”‚
â”‚                                                              â”‚
â”‚  2ï¸âƒ£ ANALYZE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚     â”œâ”€ Build Spectrum Maps   2.4GHz: 65% congestion         â”‚
â”‚     â”œâ”€ Detect Conflicts      WiFi Ch6 â†” Zigbee Ch15 âš ï¸      â”‚
â”‚     â””â”€ Calculate Scores      Environment: 72/100            â”‚
â”‚                                                              â”‚
â”‚  3ï¸âƒ£ RECOMMEND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚     â”œâ”€ #1 Change 2.4GHz â†’ Ch1  (protect Zigbee)  [90%]     â”‚
â”‚     â”œâ”€ #2 Increase 5GHz width  (throughput)      [70%]     â”‚
â”‚     â””â”€ #3 Enable MU-MIMO       (multi-device)    [65%]     â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Die **NetworkIntelligence Engine** sammelt Daten aus allen verfÃ¼gbaren Quellen und generiert kontextbezogene Optimierungsempfehlungen:

| Datenquelle | Informationen | PrioritÃ¤t |
|-------------|---------------|-----------|
| **Router SSH** | Mesh-Nodes, Clients, WiFi-Settings | Kritisch |
| **Neighbor Scan** | Nachbar-Netzwerke, Kanalnutzung | Hoch |
| **Home Assistant** | Zigbee-Kanal, GerÃ¤te, LQI | Hoch |
| **SNMP** | Switch-Topologie, Bottlenecks | Optional |

**Optimization Targets:**
- `minimize_interference` - Weniger StÃ¶rungen von Nachbarn
- `protect_zigbee` - Zigbee-Kanal vor WiFi-Overlap schÃ¼tzen
- `maximize_throughput` - HÃ¶here Geschwindigkeit
- `reduce_neighbor_overlap` - Nachbar-Konflikte vermeiden

### ğŸ  Home Assistant Integration

- **ZHA Support** - Zigbee Home Automation
- **Zigbee2MQTT** - Alternative Zigbee-Bridge
- **Device Correlation** - GerÃ¤te-Matching mit HA-Entities

---

## ğŸ“¦ Installation

### Als OpenClaw Skill

```bash
# Via OpenClaw CLI
openclaw skill install https://github.com/openclaw/asus-mesh-wifi-analyzer

# Via npm
npm install openclaw-asus-mesh-skill
```

### Lokale Entwicklung

```bash
git clone https://github.com/openclaw/asus-mesh-wifi-analyzer.git
cd asus-mesh-wifi-analyzer
npm install
npm run build
```

## Konfiguration

Erstelle eine `.env` Datei basierend auf `.env.example`:

```env
# ASUS Router (Merlin Firmware)
ASUS_ROUTER_HOST=192.168.1.1
ASUS_ROUTER_SSH_PORT=22
ASUS_ROUTER_SSH_USER=admin
ASUS_ROUTER_SSH_PASSWORD=your_password

# Home Assistant
HASS_HOST=192.168.178.43
HASS_PORT=8123
HASS_ACCESS_TOKEN=your_long_lived_access_token

# Logging
LOG_LEVEL=info
```

### SSH-Zugang aktivieren (Merlin Firmware)

1. Router-Webinterface Ã¶ffnen
2. Administration â†’ System
3. SSH-Daemon aktivieren
4. SSH-Port konfigurieren (Standard: 22)

### Home Assistant Access Token

1. Home Assistant Ã¶ffnen
2. Profil â†’ Sicherheit â†’ Langlebige Zugangstoken
3. Neuen Token erstellen

## Verwendung

### Als OpenClaw Skill

```typescript
import { OpenClawAsusMeshSkill } from 'openclaw-asus-mesh-skill';

const skill = new OpenClawAsusMeshSkill();
await skill.initialize();

// Netzwerk scannen
const scanResult = await skill.execute({ action: 'scan_network' });

// Netzwerk-Gesundheit abrufen
const health = await skill.execute({ action: 'get_network_health' });

// Probleme abrufen
const problems = await skill.execute({ action: 'get_problems' });

// OptimierungsvorschlÃ¤ge
const suggestions = await skill.execute({ action: 'get_optimization_suggestions' });

// Zigbee-Status
const zigbee = await skill.execute({ action: 'scan_zigbee' });

// Frequenzkonflikte
const conflicts = await skill.execute({ action: 'get_frequency_conflicts' });

await skill.shutdown();
```

## ğŸ¯ VerfÃ¼gbare Actions

### Basis-Actions

| Action | Beschreibung | Parameter |
|--------|-------------|-----------|
| `scan_network` | Scannt das gesamte Mesh-Netzwerk | - |
| `get_network_health` | Berechnet Network Health Score | - |
| `get_device_list` | Liste aller GerÃ¤te | `filter?: 'all' \| 'wireless' \| 'wired' \| 'problematic'` |
| `get_optimization_suggestions` | OptimierungsvorschlÃ¤ge | - |
| `apply_optimization` | Optimierung anwenden | `suggestionId: string, confirm: boolean` |

### Zigbee & Frequenz

| Action | Beschreibung | Parameter |
|--------|-------------|-----------|
| `scan_zigbee` | Zigbee-Netzwerk scannen | - |
| `get_frequency_conflicts` | WiFi/Zigbee Konflikte | - |
| `get_channel_scan` | Kanalauslastung scannen | `band?: '2.4GHz' \| '5GHz' \| 'both'` |

### Erweiterte Features

| Action | Beschreibung | Parameter |
|--------|-------------|-----------|
| `scan_rogue_iot` | Rogue IoT WiFi-Netzwerke erkennen | - |
| `get_heatmap` | Signal-Heatmap generieren | `floor?: number` |
| `run_benchmark` | Netzwerk-Benchmark (iPerf3) | - |
| `sync_mesh_settings` | Mesh-Einstellungen synchronisieren | `channel2g?, channel5g?` |
| `analyze_network_topology` | SNMP Netzwerk-Topologie | - |
| `full_intelligence_scan` | Kompletter KI-gestÃ¼tzter Scan | `targets?: string[]` |
| `get_environment_summary` | Umgebungs-Zusammenfassung | - |
| `get_quick_diagnosis` | Schnelldiagnose mit PrioritÃ¤ten | - |

### Platzierung & Visualisierung

| Action | Beschreibung | Parameter |
|--------|-------------|-----------|
| `get_placement_recommendations` | Node/Device-Platzierungsempfehlungen | - |
| `set_floor_plan` | Grundriss konfigurieren | `floor, name, imagePath?, widthMeters, heightMeters` |
| `get_floor_visualization` | Grundriss mit Overlays | `floor: number` |
| `get_roaming_analysis` | Roaming-Analyse pro GerÃ¤t | `macAddress: string` |

### Switch-Monitoring (SNMP)

| Action | Beschreibung | Parameter |
|--------|-------------|-----------|
| `get_switch_status` | Switch-Status abfragen | `host?: string` |
| `get_port_traffic` | Port-Traffic-Details | `host: string, port?: number` |
| `get_vlan_info` | VLAN-Konfiguration | `host: string` |
| `get_poe_status` | PoE-Status (MikroTik) | `host: string` |
| `set_poe_enabled` | PoE ein/ausschalten | `host, port, enabled` |

### Alerting

| Action | Beschreibung | Parameter |
|--------|-------------|-----------|
| `configure_alerts` | Webhook/MQTT konfigurieren | `webhookUrl?, mqttBroker?, minSeverity?` |
| `get_alerts` | Aktive Alerts abrufen | `hours?: number` |

### ğŸ§  Knowledge Base (NEU!)

> **Persistente Netzwerk-Datenbank** - Alle Scans werden automatisch gespeichert. GerÃ¤te, Nodes, SNMP-Devices und Zigbee-GerÃ¤te werden Ã¼ber Zeit getracked.

| Action | Beschreibung | Parameter |
|--------|-------------|-----------|
| `get_knowledge_stats` | Ãœbersicht Ã¼ber gespeicherte Daten | - |
| `get_known_devices` | Alle bekannten GerÃ¤te abrufen | `filter?: 'all' \| 'known' \| 'unknown'` |
| `mark_device_known` | GerÃ¤t als "bekannt" markieren | `macAddress, customName?, deviceType?, notes?` |
| `get_network_history` | Historische Snapshots abrufen | `limit?: number` |
| `export_knowledge` | Komplette Knowledge Base exportieren | - |

**Device Types:** `router`, `switch`, `ap`, `computer`, `phone`, `tablet`, `iot`, `smart_home`, `media`, `gaming`, `unknown`

## ğŸ—ï¸ Architektur

```
src/
â”œâ”€â”€ config/              # Konfiguration & Zod Schemas
â”œâ”€â”€ core/                # Kern-Logik (18 Module)
â”‚   â”œâ”€â”€ mesh-analyzer.ts           # Mesh-Netzwerk Analyse
â”‚   â”œâ”€â”€ triangulation.ts           # RÃ¤umliche Positionsberechnung
â”‚   â”œâ”€â”€ problem-detector.ts        # Problem-Erkennung
â”‚   â”œâ”€â”€ frequency-optimizer.ts     # Frequenz-Optimierung
â”‚   â”œâ”€â”€ zigbee-analyzer.ts         # Zigbee-Analyse
â”‚   â”œâ”€â”€ heatmap-generator.ts       # Multi-Floor Heatmap
â”‚   â”œâ”€â”€ benchmark-engine.ts        # iPerf3/Latency Tests
â”‚   â”œâ”€â”€ auto-debugger.ts           # Log-Analyse & Auto-Fix
â”‚   â”œâ”€â”€ neighbor-monitor.ts        # Nachbarnetz-Scanning
â”‚   â”œâ”€â”€ multi-node-coordinator.ts  # Multi-Node Mesh Management
â”‚   â”œâ”€â”€ iot-wifi-detector.ts       # Rogue IoT WiFi Detection
â”‚   â”œâ”€â”€ multi-gen-coordinator.ts   # WiFi 5/6/6E/7 Support
â”‚   â”œâ”€â”€ network-topology-analyzer.ts # SNMP Topologie
â”‚   â”œâ”€â”€ network-intelligence.ts    # KI-gestÃ¼tzte Analyse
â”‚   â”œâ”€â”€ spatial-recommendations.ts # Platzierungsempfehlungen
â”‚   â”œâ”€â”€ floor-plan-manager.ts      # Grundriss-Verwaltung
â”‚   â””â”€â”€ alerting-service.ts        # Webhook/MQTT Alerts
â”œâ”€â”€ infra/               # Infrastruktur (6 Clients)
â”‚   â”œâ”€â”€ asus-ssh-client.ts         # SSH zum Router
â”‚   â”œâ”€â”€ homeassistant-client.ts    # Home Assistant WebSocket
â”‚   â”œâ”€â”€ mesh-node-pool.ts          # Multi-Node SSH Pool
â”‚   â”œâ”€â”€ snmp-client.ts             # SNMP Client
â”‚   â”œâ”€â”€ opensensemap-client.ts     # OpenSenseMap API
â”‚   â””â”€â”€ network-knowledge-base.ts  # Persistente Netzwerk-Datenbank (NEU)
â”œâ”€â”€ skill/               # OpenClaw Interface
â”‚   â”œâ”€â”€ actions.ts                 # Zod Action Schemas
â”‚   â””â”€â”€ openclaw-skill.ts          # Hauptklasse (39 Actions)
â”œâ”€â”€ types/               # TypeScript Types (10 Module)
â”‚   â”œâ”€â”€ network.ts, zigbee.ts, building.ts
â”‚   â”œâ”€â”€ benchmark.ts, debugging.ts, analysis.ts
â”‚   â”œâ”€â”€ iot-device.ts, router-models.ts
â”‚   â”œâ”€â”€ homeassistant.ts
â”‚   â””â”€â”€ knowledge-base.ts            # Knowledge Base Types (NEU)
â””â”€â”€ utils/               # Utilities
    â”œâ”€â”€ logger.ts, mac.ts, frequency.ts
    â”œâ”€â”€ async-helpers.ts           # Semaphore, CircularBuffer
    â””â”€â”€ errors.ts                  # Structured Errors (NEU)
```

## Erweiterte Features (Phase 2)

### Multi-Floor Heatmap

UnterstÃ¼tzt GebÃ¤ude mit mehreren Stockwerken:

- **Keller** - Mit erhÃ¶hter SignaldÃ¤mpfung durch Beton
- **Erdgeschoss bis 3. Stock** - Vertikale Signal-Propagation
- **Garten/Outdoor** - Outdoor-Node-UnterstÃ¼tzung

```typescript
import { HeatmapGenerator } from './src/core/heatmap-generator.js';

const generator = new HeatmapGenerator();
generator.setBuilding({
  id: 'home',
  name: 'Mein Haus',
  floors: [
    { id: 'basement', floor: 'basement', floorNumber: -1, ... },
    { id: 'ground', floor: 'ground', floorNumber: 0, ... },
    { id: 'first', floor: 'first', floorNumber: 1, ... },
  ],
  ...
});

const heatmap = generator.generateFloorHeatmap(0, 1); // Erdgeschoss, 1m AuflÃ¶sung
```

### Benchmark-Engine

- **Throughput-Tests** via iPerf3
- **Latenz-Tests** mit Jitter-Messung
- **Channel-Analyse** mit Score-System
- **Spektrum-Scan** fÃ¼r optimale Kanalwahl

```typescript
import { BenchmarkEngine } from './src/core/benchmark-engine.js';

const benchmark = new BenchmarkEngine(sshClient);
const result = await benchmark.runFullBenchmark();
// { scores: { overall: 85, throughput: 90, latency: 80, ... } }

const spectrum = await benchmark.runSpectrumScan('5g');
// { bestChannel: 149, currentChannel: 36, recommendedAction: '...' }
```

### Auto-Debugging

Automatische Log-Analyse mit bekannten Issue-Patterns:

- **Deauth Floods** - Sicherheits-Erkennung
- **Channel Interference** - Interferenz-Erkennung
- **Client Disconnect Loops** - Verbindungsprobleme
- **DFS/Radar Events** - Regulatorische Events
- **Memory Pressure** - System-Ãœberlastung
- **Zigbee Interference** - WiFi/Zigbee Konflikte

```typescript
import { AutoDebugger } from './src/core/auto-debugger.js';

const debugger = new AutoDebugger(sshClient, hassClient);
await debugger.startSession();
const issues = await debugger.analyzeLogs(500);
// Auto-Fix verfÃ¼gbar fÃ¼r einige Issues
await debugger.applyAutoFix(issues[0].id);
const session = await debugger.endSession();
```

### Nachbarnetz-Monitor

Kontinuierliches Monitoring der WiFi-Umgebung:

- **Scan aller Nachbar-APs** auf 2.4GHz und 5GHz
- **Kanal-Kongestions-Analyse**
- **Konflikt-Erkennung** mit aktuellen Einstellungen
- **Beste Kanal-Empfehlungen**

```typescript
import { NeighborMonitor } from './src/core/neighbor-monitor.js';

const monitor = new NeighborMonitor(sshClient);
const analysis = await monitor.analyzeNeighbors(currentSettings);
// { networks: [...], bestChannels: [...], recommendations: [...] }
```

### Multi-Node Mesh Management

Automatische Erkennung und SSH-Zugang zu allen AiMesh-Nodes:

- **Auto-Discovery** aller Mesh Access Points via Main Router
- **SSH-Pool** mit Verbindungen zu allen erreichbaren Nodes
- **Koordinierte Konfiguration** Ã¼ber alle Nodes hinweg
- **Konflikt-Erkennung** zwischen Node-Einstellungen
- **Synchronisierte Einstellungen** fÃ¼r konsistentes Roaming

```typescript
import { MeshNodePool } from './src/infra/mesh-node-pool.js';
import { MultiNodeCoordinator } from './src/core/multi-node-coordinator.js';

// Pool initialisieren - Auto-Discovery aller Nodes
const nodePool = new MeshNodePool(config);
await nodePool.initialize();

// Alle erkannten Nodes
const nodes = nodePool.getDiscoveredNodes();
// [{ id: 'main', name: 'RT-AX88U', ip: '192.168.1.1', sshAvailable: true, ... },
//  { id: 'node_aabbcc', name: 'ZenWiFi Node', ip: '192.168.1.2', ... }]

// Koordinator fÃ¼r Multi-Node Settings
const coordinator = new MultiNodeCoordinator(nodePool);

// Alle Node-Konfigurationen scannen
const config = await coordinator.scanAllNodeConfigs();
// { nodes: [...], conflicts: [...], recommendations: [...], overallScore: 85 }

// Optimierte Einstellungen berechnen (mit Zigbee-Kanal-BerÃ¼cksichtigung)
const optimized = await coordinator.optimizeChannelAllocation(15); // Zigbee Kanal 15

// Einstellungen auf alle Nodes anwenden
await coordinator.applyOptimizedSettings(optimized);

// Oder uniforme Einstellungen manuell setzen
await coordinator.applyUniformSettings({
  channel2g: 1,
  channel5g: 36,
});

// Wireless auf allen Nodes neu starten
await nodePool.restartWirelessOnAllNodes();

// AufrÃ¤umen
await nodePool.shutdown();
```

#### MeshNodeInfo Struktur

```typescript
interface MeshNodeInfo {
  id: string;              // 'main' oder 'node_macaddress'
  name: string;            // Router-Name
  macAddress: string;
  ipAddress: string;
  isMainRouter: boolean;
  firmwareVersion: string;
  model: string;           // z.B. 'RT-AX88U'
  role: 'router' | 'node';
  status: 'online' | 'offline' | 'unreachable';
  sshAvailable: boolean;   // SSH erreichbar?
  lastSeen: Date;
  uptime: number;
  cpuUsage: number;
  memoryUsage: number;
  connectedClients: number;
}
```

### IoT Rogue WiFi Detection

Erkennung von Smart Home GerÃ¤ten die stÃ¶rende WLANs aufmachen:

- **Setup-APs** (Tuya, Shelly, Tasmota, etc. im Einrichtungsmodus)
- **Fallback-APs** (ESP-GerÃ¤te die sich nicht verbinden kÃ¶nnen)
- **Config-Portals** (Tasmota Web-Konfiguration)
- **Vendor-Erkennung** via SSID-Pattern und OUI-Datenbank
- **Home Assistant Korrelation** fÃ¼r Device-Identifikation
- **OpenClaw Actions** fÃ¼r automatische ProblemlÃ¶sung

```typescript
import { IoTWifiDetector } from './src/core/iot-wifi-detector.js';

const detector = new IoTWifiDetector(sshClient, hassClient);
const result = await detector.scanForRogueIoTNetworks();

// Erkannte stÃ¶rende Netzwerke
result.rogueNetworks.forEach(rogue => {
  console.log(`${rogue.vendor} ${rogue.deviceType}: ${rogue.ssid}`);
  console.log(`  Typ: ${rogue.rogueType}, Interferenz: ${rogue.interferenceLevel}`);
  console.log(`  Empfehlung: ${rogue.recommendedAction}`);
});

// Vorgeschlagene Aktionen fÃ¼r OpenClaw
result.suggestedActions.forEach(action => {
  console.log(`Action: ${action.actionType} fÃ¼r ${action.targetDevice.vendor}`);
  console.log(`  PrioritÃ¤t: ${action.priority}`);
});

// Action ausfÃ¼hren
await detector.executeOpenClawAction(result.suggestedActions[0]);

// Export fÃ¼r OpenClaw
const openclawData = detector.exportForOpenClaw();
```

#### UnterstÃ¼tzte Vendors

| Vendor | SSID-Pattern | Erkannte Typen |
| ------ | ------------ | -------------- |
| Tuya | `SmartLife-*`, `TUYA*` | Setup-AP |
| Shelly | `shelly*`, `ShellyPlus*` | Setup-AP |
| Tasmota | `Tasmota-*`, `tasmota_*` | Config-Portal |
| ESP/ESPHome | `ESP_*`, `ESP32*`, `ESPHOME*` | Fallback-AP |
| Sonoff | `Sonoff*`, `eWeLink*` | Setup-AP |
| Meross | `Meross*`, `MSS*` | Setup-AP |
| TP-Link Kasa | `TP-Link*`, `Kasa*` | Setup-AP |
| Philips Hue | `Philips*`, `Hue-*` | Setup-AP |
| IKEA | `IKEA*`, `TRADFRI*` | Setup-AP |
| Xiaomi | `xiaomi*`, `yeelink*` | Setup-AP |
| Aqara | `Aqara*`, `lumi-gateway*` | Setup-AP |

#### OpenClaw Action Types

| Action | Beschreibung | UnterstÃ¼tzte Vendors |
| ------ | ------------ | -------------------- |
| `restart_device` | GerÃ¤t neustarten | Shelly, alle mit HA-Entity |
| `disable_ap` | AP-Modus deaktivieren | Tasmota |
| `reconfigure_wifi` | WiFi neu konfigurieren | Alle (manuell) |
| `notify_user` | User benachrichtigen | Alle |

## WiFi/Zigbee Frequenz-Koordination

### 2.4GHz Kanal-Mapping

| WiFi Kanal | Frequenz (MHz) | Beste Zigbee KanÃ¤le |
|------------|---------------|---------------------|
| 1 | 2412 | 21-26 |
| 6 | 2437 | 11-14, 25-26 |
| 11 | 2462 | 11-17 |

### Empfohlene Konfiguration

FÃ¼r minimale Interferenz:

- **WiFi 2.4GHz**: Kanal 1 oder 11
- **Zigbee**: Kanal 25 (bei WiFi 1) oder Kanal 15 (bei WiFi 11)

## ğŸ› ï¸ Entwicklung

```bash
# Development Mode
npm run dev

# Build
npm run build

# Tests
npm run test:run

# Lint
npm run lint

# Clean Build
npm run clean && npm run build
```

## âœ… Voraussetzungen

- **ASUS Router** mit Merlin Firmware (SSH aktiviert)
- **Node.js 18+**
- **Optional**: Home Assistant mit ZHA oder Zigbee2MQTT
- **Optional**: SNMP-fÃ¤hige GerÃ¤te (MikroTik, OPNsense, etc.)

## ğŸ“Š UnterstÃ¼tzte GerÃ¤te

### ASUS Router (via SSH)

- RT-AX88U, RT-AX86U, GT-AX11000
- ZenWiFi AX (XT8), ZenWiFi Pro (ET12)
- Alle Merlin-kompatiblen Modelle

### SNMP Devices

| Vendor | UnterstÃ¼tzte OIDs |
|--------|-------------------|
| MikroTik SwOS/RouterOS | Health, Temperatur, CPU, PoE, Neighbor |
| OPNsense/pfSense | Firewall States, Interface Counter |
| Cisco | Standard MIBs |
| Ubiquiti | Standard MIBs |

### IoT Vendor Detection (100+ OUIs)

| Kategorie | Vendors |
|-----------|---------|
| Smart Home | Tuya, Shelly, Sonoff, Meross, LIFX, Govee |
| Voice | Amazon Alexa, Google Home |
| Zigbee | Philips Hue, IKEA, Aqara |
| Network | MikroTik, TP-Link, ASUS |
| Generic | Espressif (ESP8266/ESP32) |

---

## ğŸ“ Changelog

### v1.0.2 (2026-02-11)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš€ FEATURE: AP-Mode Detection & Optimizations              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… AP-Mode Detection via nvram sw_mode                     â”‚
â”‚  âœ… AP-Mode Empfehlungen:                                   â”‚
â”‚     â€¢ QoS deaktivieren (OPNsense Ã¼bernimmt)                â”‚
â”‚     â€¢ AIProtection deaktivieren (CPU-Last -15-25%)         â”‚
â”‚     â€¢ Traffic Analyzer, Adaptive QoS, DDNS, UPnP           â”‚
â”‚     â€¢ MU-MIMO/OFDMA Hinweise fÃ¼r wenig Clients             â”‚
â”‚  âœ… Batch Signal Collection (getAllClientSignals)           â”‚
â”‚  âœ… SNMP Config aus Environment (SNMP_DEVICES)              â”‚
â”‚  âœ… Mesh Node Firmware Parsing aus cfg_device_list          â”‚
â”‚  âœ… getRouterFeatureStatus() fÃ¼r Feature-Erkennung          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### v1.0.1 (2026-02-11)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”§ BUGFIX: SSH/Dropbear Compatibility                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… Fixed SSH connection issues with ASUS router dropbear   â”‚
â”‚  âœ… Added legacy algorithm support for older dropbear       â”‚
â”‚  âœ… KEX: curve25519, diffie-hellman-group14-sha1, etc.      â”‚
â”‚  âœ… Cipher: chacha20-poly1305, aes128-ctr, aes256-cbc      â”‚
â”‚  âœ… HMAC: hmac-sha2-256, hmac-sha1                          â”‚
â”‚  âœ… Applied to both asus-ssh-client and mesh-node-pool      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### v1.0.0 (2026-02-11)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‰ INITIAL RELEASE                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… 12 OpenClaw Actions                                     â”‚
â”‚  âœ… 13 Core Modules                                         â”‚
â”‚  âœ… 5 Infrastructure Clients                                â”‚
â”‚  âœ… 100+ Vendor OUI Patterns                                â”‚
â”‚  âœ… 56 Unit Tests                                           â”‚
â”‚  âœ… SNMP Netzwerk-Topologie                                 â”‚
â”‚  âœ… Graceful Shutdown (SIGINT/SIGTERM)                      â”‚
â”‚  âœ… Connection Pooling + Auto-Reconnect                     â”‚
â”‚  âœ… Structured Error Handling                               â”‚
â”‚  âœ… Health Check & Stats API                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¤ Contributing

Contributions sind willkommen! Bitte lies die [Contributing Guidelines](CONTRIBUTING.md) bevor du einen PR erstellst.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ› ï¸  DEVELOPMENT WORKFLOW                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Fork & Clone                                            â”‚
â”‚  2. npm install                                             â”‚
â”‚  3. npm run dev                                             â”‚
â”‚  4. Make changes                                            â”‚
â”‚  5. npm run test:run                                        â”‚
â”‚  6. npm run lint                                            â”‚
â”‚  7. Create PR                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“„ Lizenz

MIT - siehe [LICENSE](LICENSE)

---

<div align="center">

**Made with â¤ï¸ for the OpenClaw Community**

```
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘  ğŸŒ  ASUS MESH WIFI ANALYZER  â€¢  OpenClaw Skill v1.0.0 ğŸŒ â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

</div>
